# 쿠키와 스토리지의 차이

## 쿠키와 웹 스토리지를 사용하는 이유

- 쿠키와 웹스토리지를 사용하는 이유를 알기 전에 먼저 **HTTP 프로토콜의 특징** 두 가지를 살펴 보겠습니다
- 먼저 **비연결지향(Connectionless)** 은 클라이언트가 서버에게 Request를 보내고 서버가 클라이언트에게 Response를 보내면 접속을 종료합니다.
- **무상태(Stateless)** 는 통신이 끝나면 상태 정보를 유지하지 않는 것을 말합니다.
- 즉, 클라이언트의 로그인 정보나 브라우저에서 입력한 값 등이 페이지를 이동할 때 마다 초기화되기 때문에 이러한 문제점을 해결하기 위해서 데이터 저장을 위해 사용하는 것이 **쿠키와 웹스토리지** 입니다.

## 쿠키

- 먼저 쿠키는 Key와 Value 형태의 저장소입니다.
- 최대 4KB의 용량을 가지고 다양한 방법으로 정보를 저장하는데 문자열만 저장할 수 있다는 제한이 있습니다.
- 쿠키에는 persistent cookies와 session cookies 두 가지 유형이 있는데 
  - Session 쿠키의 경우는 만료일을 포함하지 않고 브라우저나 탭이 열려있는 동안에만 저장됩니다 은행 웹사이트 같이 작업을 하던 도중에 탭을 닫을때 정보를 다 지워줘야 하는 경우에 유용합니다.
  - Persistent 쿠키는 만료일을 가집니다 즉, 만료일까지 유저의 디스크에 저장되고 만료일이 지날 경우에 삭제됩니다 이경우는 유저들이 방문할 때 특정 웹사이트에서 행동을 기록하기 때문에 유저의 경험을 개선하는 등 여러 활동들에 사용될 수 있습니다.
- 쿠키는 서버, 클라이언트 양쪽에서 쿠키데이터를 사용하는 api가 존재합니다 그렇기 때문에 서버쪽 사용이 필수적이거나 잦다면 로컬 저장소가 아닌 쿠키 값을 사용하는 것이 좋을 수 있습니다.



## WebStorage

- 클라이언트 쪽에서만 정보를 관리할 수 있다.
- 쿠키와 달리 서버에 전송되지 않기때문에 서버에 부담을 줄여줍니다.
- 쿠키와는 달리 문자열, 원시값, 객체의 형태로도 저장이 가능합니다 ,

### LocalStorage

- 저장공간이 최대 5MB로 쿠키의 저장공간보다 훨씬 더 많습니다.
- 로컬스토리지의 경우 JS코드를 통해 삭제하지 않으면 데이터가 삭제되지 않습니다 
- 쿠키와 다르게 문자열 뿐만 아니라 원시값이나 객체도 저장할 수 있습니다.
- 도메인별로 로컬스토리지를 생성한다 때문에 여러개의 브라우저로 같은 도메인에 접속하면 같은 데이터를 공유할 수 있다

### SessionStorage

- 로컬 스토리지와 비슷하지만 세션스토리지의 경우 브라우저 컨텍스트 내에서만 유지된다 즉 브라우저가 종료되면 데이터도 같이 지워진다.
- 브라우저 컨텍스트 내에서만 유지되기 때문에 여러개의 브라우저로 같은 도메인으로 접속해도 별 개의 세션 스토리지를 갖게된다.